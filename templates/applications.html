{% extends '_layout.html' %}

{% block body %}

<header class="bg-gray-50">
    <div class="mx-auto max-w-screen-xl px-4 py-4 sm:px-6 sm:py-4 lg:px-8">
        <div class="sm:flex sm:items-center sm:justify-between">
            <div class="text-center sm:text-left">
                <h1 class="text-2xl font-bold text-gray-900 sm:text-3xl">Recent applications</h1>

                <p class="mt-1.5 text-sm text-gray-500">Take a look who's ready to join</p>
            </div>
            <div class="mt-4 flex flex-col gap-4 sm:mt-0 sm:flex-row sm:items-center">
                <a href="/account">
                    <button
                        class="inline-flex items-center justify-center gap-1.5 rounded-lg border border-gray-200 px-5 py-3 text-gray-500 transition hover:bg-gray-50 hover:text-gray-700 focus:outline-none focus:ring"
                        type="button">
                        <span class="text-sm font-medium"> Back </span>
                    </button>
                </a>
            </div>
        </div>
    </div>
</header>

<div class="px-5 grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-8">
    <div class="h-full rounded-lg bg-gray-200">
        <div class="flex justify-center py-4">
            <h1 class="text-2xl text-gray-900 sm:text-3xl">Memberships</h1>
        </div>
        {% for membership in recent_memberships %}
        <div class="mx-auto max-w-screen-xl px-4 py-2 sm:px-6 sm:py-2 lg:px-8">
            <details class="border border-blue-500 rounded-lg group [&_summary::-webkit-details-marker]:hidden">
                <summary
                    class="flex flex-row cursor-pointer items-center justify-between gap-1.5 rounded-lg {% if not membership.active %}bg-red-200{% else %}bg-gray-50{% endif %} p-4 text-gray-900">
                    <a href="/account?membership_id={{ membership.membership_id }}">
                        <h2 class="font-medium">Membership ID: {{ membership.membership_id }}, {{ membership.email }}</h2>
                    </a>
                </summary>
            </details>
        </div>
        {% endfor %}
    </div>
    <div class="h-full rounded-lg bg-gray-200">
        <div class="flex justify-center py-4">
            <h1 class="text-2xl text-gray-900 sm:text-3xl">Employees</h1>
        </div>
        {% for emp in recent_emps %}
        <div class="mx-auto max-w-screen-xl px-4 py-2 sm:px-6 sm:py-2 lg:px-8">
            <details class="border border-blue-500 rounded-lg group [&_summary::-webkit-details-marker]:hidden">
                <summary
                    class="flex flex-row cursor-pointer items-center justify-between gap-1.5 rounded-lg {% if not emp.active %}bg-red-200{% else %}bg-gray-50{% endif %} p-4 text-gray-900">
                    <a href="/account?employee_id={{ emp.emp_id }}">
                        <h2 class="font-medium">Employee ID: {{ emp.emp_id }}, {{ emp.email }}</h2>
                    </a>
                </summary>
            </details>
        </div>
        {% endfor %}
    </div>
</div>


{% endblock %}